(function(){var t={356:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=s(361);function toArr(t){return t==null?[]:Array.isArray(t)?t:[t]}function toVal(t,e,s,n){var o,i=t[e],a=!!~n.string.indexOf(e)?s==null||s===true?"":String(s):typeof s==="boolean"?s:!!~n.boolean.indexOf(e)?s==="false"?false:s==="true"||(t._.push((o=+s,o*0===0)?o:s),!!s):(o=+s,o*0===0)?o:s;t[e]=i==null?a:Array.isArray(i)?i.concat(a):[i,a]}function mri2(t,e){t=t||[];e=e||{};var s,n,o,i,a,r={_:[]};var l=0,c=0,h=0,m=t.length;const u=e.alias!==void 0;const f=e.unknown!==void 0;const d=e.default!==void 0;e.alias=e.alias||{};e.string=toArr(e.string);e.boolean=toArr(e.boolean);if(u){for(s in e.alias){n=e.alias[s]=toArr(e.alias[s]);for(l=0;l<n.length;l++){(e.alias[n[l]]=n.concat(s)).splice(l,1)}}}for(l=e.boolean.length;l-- >0;){n=e.alias[e.boolean[l]]||[];for(c=n.length;c-- >0;)e.boolean.push(n[c])}for(l=e.string.length;l-- >0;){n=e.alias[e.string[l]]||[];for(c=n.length;c-- >0;)e.string.push(n[c])}if(d){for(s in e.default){i=typeof e.default[s];n=e.alias[s]=e.alias[s]||[];if(e[i]!==void 0){e[i].push(s);for(l=0;l<n.length;l++){e[i].push(n[l])}}}}const p=f?Object.keys(e.alias):[];for(l=0;l<m;l++){o=t[l];if(o==="--"){r._=r._.concat(t.slice(++l));break}for(c=0;c<o.length;c++){if(o.charCodeAt(c)!==45)break}if(c===0){r._.push(o)}else if(o.substring(c,c+3)==="no-"){i=o.substring(c+3);if(f&&!~p.indexOf(i)){return e.unknown(o)}r[i]=false}else{for(h=c+1;h<o.length;h++){if(o.charCodeAt(h)===61)break}i=o.substring(c,h);a=o.substring(++h)||(l+1===m||(""+t[l+1]).charCodeAt(0)===45||t[++l]);n=c===2?[i]:i;for(h=0;h<n.length;h++){i=n[h];if(f&&!~p.indexOf(i))return e.unknown("-".repeat(c)+i);toVal(r,i,h+1<n.length||a,e)}}}if(d){for(s in e.default){if(r[s]===void 0){r[s]=e.default[s]}}}if(u){for(s in r){n=e.alias[s]||[];while(n.length>0){r[n.shift()]=r[s]}}}return r}const removeBrackets=t=>t.replace(/[<[].+/,"").trim();const findAllBrackets=t=>{const e=/<([^>]+)>/g;const s=/\[([^\]]+)\]/g;const n=[];const parse=t=>{let e=false;let s=t[1];if(s.startsWith("...")){s=s.slice(3);e=true}return{required:t[0].startsWith("<"),value:s,variadic:e}};let o;while(o=e.exec(t)){n.push(parse(o))}let i;while(i=s.exec(t)){n.push(parse(i))}return n};const getMriOptions=t=>{const e={alias:{},boolean:[]};for(const[s,n]of t.entries()){if(n.names.length>1){e.alias[n.names[0]]=n.names.slice(1)}if(n.isBoolean){if(n.negated){const o=t.some(((t,e)=>e!==s&&t.names.some((t=>n.names.includes(t)))&&typeof t.required==="boolean"));if(!o){e.boolean.push(n.names[0])}}else{e.boolean.push(n.names[0])}}}return e};const findLongest=t=>t.sort(((t,e)=>t.length>e.length?-1:1))[0];const padRight=(t,e)=>t.length>=e?t:`${t}${" ".repeat(e-t.length)}`;const camelcase=t=>t.replace(/([a-z])-([a-z])/g,((t,e,s)=>e+s.toUpperCase()));const setDotProp=(t,e,s)=>{let n=0;let o=e.length;let i=t;let a;for(;n<o;++n){a=i[e[n]];i=i[e[n]]=n===o-1?s:a!=null?a:!!~e[n+1].indexOf(".")||!(+e[n+1]>-1)?{}:[]}};const setByType=(t,e)=>{for(const s of Object.keys(e)){const n=e[s];if(n.shouldTransform){t[s]=Array.prototype.concat.call([],t[s]);if(typeof n.transformFunction==="function"){t[s]=t[s].map(n.transformFunction)}}}};const getFileName=t=>{const e=/([^\\\/]+)$/.exec(t);return e?e[1]:""};const camelcaseOptionName=t=>t.split(".").map(((t,e)=>e===0?camelcase(t):t)).join(".");class CACError extends Error{constructor(t){super(t);this.name=this.constructor.name;if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,this.constructor)}else{this.stack=new Error(t).stack}}}class Option{constructor(t,e,s){this.rawName=t;this.description=e;this.config=Object.assign({},s);t=t.replace(/\.\*/g,"");this.negated=false;this.names=removeBrackets(t).split(",").map((t=>{let e=t.trim().replace(/^-{1,2}/,"");if(e.startsWith("no-")){this.negated=true;e=e.replace(/^no-/,"")}return camelcaseOptionName(e)})).sort(((t,e)=>t.length>e.length?1:-1));this.name=this.names[this.names.length-1];if(this.negated&&this.config.default==null){this.config.default=true}if(t.includes("<")){this.required=true}else if(t.includes("[")){this.required=false}else{this.isBoolean=true}}}const o=process.argv;const i=`${process.platform}-${process.arch} node-${process.version}`;class Command{constructor(t,e,s={},n){this.rawName=t;this.description=e;this.config=s;this.cli=n;this.options=[];this.aliasNames=[];this.name=removeBrackets(t);this.args=findAllBrackets(t);this.examples=[]}usage(t){this.usageText=t;return this}allowUnknownOptions(){this.config.allowUnknownOptions=true;return this}ignoreOptionDefaultValue(){this.config.ignoreOptionDefaultValue=true;return this}version(t,e="-v, --version"){this.versionNumber=t;this.option(e,"Display version number");return this}example(t){this.examples.push(t);return this}option(t,e,s){const n=new Option(t,e,s);this.options.push(n);return this}alias(t){this.aliasNames.push(t);return this}action(t){this.commandAction=t;return this}isMatched(t){return this.name===t||this.aliasNames.includes(t)}get isDefaultCommand(){return this.name===""||this.aliasNames.includes("!")}get isGlobalCommand(){return this instanceof GlobalCommand}hasOption(t){t=t.split(".")[0];return this.options.find((e=>e.names.includes(t)))}outputHelp(){const{name:t,commands:e}=this.cli;const{versionNumber:s,options:n,helpCallback:o}=this.cli.globalCommand;let i=[{body:`${t}${s?`/${s}`:""}`}];i.push({title:"Usage",body:`  $ ${t} ${this.usageText||this.rawName}`});const a=(this.isGlobalCommand||this.isDefaultCommand)&&e.length>0;if(a){const s=findLongest(e.map((t=>t.rawName)));i.push({title:"Commands",body:e.map((t=>`  ${padRight(t.rawName,s.length)}  ${t.description}`)).join("\n")});i.push({title:`For more info, run any command with the \`--help\` flag`,body:e.map((e=>`  $ ${t}${e.name===""?"":` ${e.name}`} --help`)).join("\n")})}let r=this.isGlobalCommand?n:[...this.options,...n||[]];if(!this.isGlobalCommand&&!this.isDefaultCommand){r=r.filter((t=>t.name!=="version"))}if(r.length>0){const t=findLongest(r.map((t=>t.rawName)));i.push({title:"Options",body:r.map((e=>`  ${padRight(e.rawName,t.length)}  ${e.description} ${e.config.default===void 0?"":`(default: ${e.config.default})`}`)).join("\n")})}if(this.examples.length>0){i.push({title:"Examples",body:this.examples.map((e=>{if(typeof e==="function"){return e(t)}return e})).join("\n")})}if(o){i=o(i)||i}console.log(i.map((t=>t.title?`${t.title}:\n${t.body}`:t.body)).join("\n\n"))}outputVersion(){const{name:t}=this.cli;const{versionNumber:e}=this.cli.globalCommand;if(e){console.log(`${t}/${e} ${i}`)}}checkRequiredArgs(){const t=this.args.filter((t=>t.required)).length;if(this.cli.args.length<t){throw new CACError(`missing required args for command \`${this.rawName}\``)}}checkUnknownOptions(){const{options:t,globalCommand:e}=this.cli;if(!this.config.allowUnknownOptions){for(const s of Object.keys(t)){if(s!=="--"&&!this.hasOption(s)&&!e.hasOption(s)){throw new CACError(`Unknown option \`${s.length>1?`--${s}`:`-${s}`}\``)}}}}checkOptionValue(){const{options:t,globalCommand:e}=this.cli;const s=[...e.options,...this.options];for(const e of s){const n=t[e.name.split(".")[0]];if(e.required){const t=s.some((t=>t.negated&&t.names.includes(e.name)));if(n===true||n===false&&!t){throw new CACError(`option \`${e.rawName}\` value is missing`)}}}}}class GlobalCommand extends Command{constructor(t){super("@@global@@","",{},t)}}var a=Object.assign;class CAC extends n.EventEmitter{constructor(t=""){super();this.name=t;this.commands=[];this.rawArgs=[];this.args=[];this.options={};this.globalCommand=new GlobalCommand(this);this.globalCommand.usage("<command> [options]")}usage(t){this.globalCommand.usage(t);return this}command(t,e,s){const n=new Command(t,e||"",s,this);n.globalCommand=this.globalCommand;this.commands.push(n);return n}option(t,e,s){this.globalCommand.option(t,e,s);return this}help(t){this.globalCommand.option("-h, --help","Display this message");this.globalCommand.helpCallback=t;this.showHelpOnExit=true;return this}version(t,e="-v, --version"){this.globalCommand.version(t,e);this.showVersionOnExit=true;return this}example(t){this.globalCommand.example(t);return this}outputHelp(){if(this.matchedCommand){this.matchedCommand.outputHelp()}else{this.globalCommand.outputHelp()}}outputVersion(){this.globalCommand.outputVersion()}setParsedInfo({args:t,options:e},s,n){this.args=t;this.options=e;if(s){this.matchedCommand=s}if(n){this.matchedCommandName=n}return this}unsetMatchedCommand(){this.matchedCommand=void 0;this.matchedCommandName=void 0}parse(t=o,{run:e=true}={}){this.rawArgs=t;if(!this.name){this.name=t[1]?getFileName(t[1]):"cli"}let s=true;for(const e of this.commands){const n=this.mri(t.slice(2),e);const o=n.args[0];if(e.isMatched(o)){s=false;const t=a(a({},n),{args:n.args.slice(1)});this.setParsedInfo(t,e,o);this.emit(`command:${o}`,e)}}if(s){for(const e of this.commands){if(e.name===""){s=false;const n=this.mri(t.slice(2),e);this.setParsedInfo(n,e);this.emit(`command:!`,e)}}}if(s){const e=this.mri(t.slice(2));this.setParsedInfo(e)}if(this.options.help&&this.showHelpOnExit){this.outputHelp();e=false;this.unsetMatchedCommand()}if(this.options.version&&this.showVersionOnExit&&this.matchedCommandName==null){this.outputVersion();e=false;this.unsetMatchedCommand()}const n={args:this.args,options:this.options};if(e){this.runMatchedCommand()}if(!this.matchedCommand&&this.args[0]){this.emit("command:*")}return n}mri(t,e){const s=[...this.globalCommand.options,...e?e.options:[]];const n=getMriOptions(s);let o=[];const i=t.indexOf("--");if(i>-1){o=t.slice(i+1);t=t.slice(0,i)}let r=mri2(t,n);r=Object.keys(r).reduce(((t,e)=>a(a({},t),{[camelcaseOptionName(e)]:r[e]})),{_:[]});const l=r._;const c={"--":o};const h=e&&e.config.ignoreOptionDefaultValue?e.config.ignoreOptionDefaultValue:this.globalCommand.config.ignoreOptionDefaultValue;let m=Object.create(null);for(const t of s){if(!h&&t.config.default!==void 0){for(const e of t.names){c[e]=t.config.default}}if(Array.isArray(t.config.type)){if(m[t.name]===void 0){m[t.name]=Object.create(null);m[t.name]["shouldTransform"]=true;m[t.name]["transformFunction"]=t.config.type[0]}}}for(const t of Object.keys(r)){if(t!=="_"){const e=t.split(".");setDotProp(c,e,r[t]);setByType(c,m)}}return{args:l,options:c}}runMatchedCommand(){const{args:t,options:e,matchedCommand:s}=this;if(!s||!s.commandAction)return;s.checkUnknownOptions();s.checkOptionValue();s.checkRequiredArgs();const n=[];s.args.forEach(((e,s)=>{if(e.variadic){n.push(t.slice(s))}else{n.push(t[s])}}));n.push(e);return s.commandAction.apply(this,n)}}const cac=(t="")=>new CAC(t);e.CAC=CAC;e.Command=Command;e.cac=cac;e["default"]=cac},942:function(t,e,s){const{cac:n,CAC:o,Command:i}=s(356);t.exports=n;Object.assign(t.exports,{default:n,cac:n,CAC:o,Command:i})},361:function(t){"use strict";t.exports=require("events")}};var e={};function __nccwpck_require__(s){var n=e[s];if(n!==undefined){return n.exports}var o=e[s]={exports:{}};var i=true;try{t[s](o,o.exports,__nccwpck_require__);i=false}finally{if(i)delete e[s]}return o.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var s=__nccwpck_require__(942);module.exports=s})();